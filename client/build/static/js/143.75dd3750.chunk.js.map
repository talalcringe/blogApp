{"version":3,"file":"static/js/143.75dd3750.chunk.js","mappings":"4TAyFA,EA9Ec,WACZ,OAA4BA,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KAEMC,GAAUC,EAAAA,EAAAA,MAEVC,GAAWC,EAAAA,EAAAA,UACXC,GAAcD,EAAAA,EAAAA,UAEdE,GAAWC,EAAAA,EAAAA,MAEXC,EAAa,mCAAG,WAAOC,GAAP,oFACpBA,EAAMC,iBAENV,EAAU,MACJW,EAAcR,EAASS,QAAQC,MAC/BC,EAAkBT,EAAYO,QAAQC,MALxB,kBAQAE,EAAAA,EAAcC,KAAK,aAAc,CACjDC,MAAON,EACPO,SAAUJ,IAVM,OAQZK,EARY,OAYlBC,QAAQC,IAAIF,EAAIG,KAAKL,OACrBE,EAAIG,MAAQrB,EAAQsB,QAAQ,SAC5BjB,EACEkB,EAAAA,EAAYC,aAAa,CACvBC,SAAUP,EAAIG,KAAKI,SACnBT,MAAOE,EAAIG,KAAKL,SAGpBU,aAAaC,QAAQ,OAAQC,KAAKC,UAAUX,EAAIG,OApB9B,kDAsBlBF,QAAQC,IAAI,KAAIU,SAAST,MACnBU,EAAS,KAAID,SAAST,KAC5BtB,EAAUgC,GAxBQ,0DAAH,sDA8BnB,OACE,gBAAKC,UAAU,aAAf,UACE,iBAAKA,UAAU,QAAf,WACE,iBAAKA,UAAU,SAAf,WACE,kBAAMC,SAAU1B,EAAhB,WACE,eAAIyB,UAAU,eAAd,oBACClC,IAAU,cAAGkC,UAAU,gBAAb,SAA8BlC,KACzC,kBACEoC,IAAKhC,EACL8B,UAAU,cACVG,KAAK,OACLC,UAAQ,EACRC,YAAY,WAEd,kBACEH,IAAK9B,EACL4B,UAAU,cACVG,KAAK,WACLC,UAAQ,EACRC,YAAY,cAEd,mBAAQL,UAAU,iBAAlB,uBAEF,eAAGA,UAAU,eAAb,wBACY,SAAC,KAAD,CAAMM,GAAG,YAAT,iCAId,iBAAKN,UAAU,SAAf,WACE,eAAIA,UAAU,eAAd,sBACA,eAAIA,UAAU,gBAAd,uCACA,gBAAKO,IAAKC,EAASC,IAAI,GAAGT,UAAU,0BAK7C,C","sources":["pages/LogIn/LogIn.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\r\nimport { useRef, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport { authActions } from '../../store/auth-slice';\r\n\r\nimport vector6 from './vector6.png';\r\n\r\nimport './LogIn.scss';\r\nimport { axiosInstance } from '../../config';\r\n\r\nconst LogIn = () => {\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  const history = useHistory();\r\n\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    setErrors(null);\r\n    const enteredMail = emailRef.current.value;\r\n    const enteredPassword = passwordRef.current.value;\r\n\r\n    try {\r\n      const res = await axiosInstance.post('auth/login', {\r\n        email: enteredMail,\r\n        password: enteredPassword,\r\n      });\r\n      console.log(res.data.email);\r\n      res.data && history.replace('/home');\r\n      dispatch(\r\n        authActions.loginHandler({\r\n          username: res.data.username,\r\n          email: res.data.email,\r\n        })\r\n      );\r\n      localStorage.setItem('user', JSON.stringify(res.data));\r\n    } catch (err) {\r\n      console.log(err.response.data);\r\n      const errMsg = err.response.data;\r\n      setErrors(errMsg);\r\n    }\r\n  };\r\n\r\n  // const logState = useSelector(state => state.auth.isLoggedIn)\r\n\r\n  return (\r\n    <div className='signupPage'>\r\n      <div className='login'>\r\n        <div className='login1'>\r\n          <form onSubmit={submitHandler}>\r\n            <h3 className='login1__text'>Log in</h3>\r\n            {errors && <p className='login1__error'>{errors}</p>}\r\n            <input\r\n              ref={emailRef}\r\n              className='login1__box'\r\n              type='text'\r\n              required\r\n              placeholder='Email'\r\n            />\r\n            <input\r\n              ref={passwordRef}\r\n              className='login1__box'\r\n              type='password'\r\n              required\r\n              placeholder='Password'\r\n            />\r\n            <button className='login1__submit'>Login</button>\r\n          </form>\r\n          <p className='login1__para'>\r\n            New user? <Link to='/signup'>Register now</Link>\r\n          </p>\r\n        </div>\r\n\r\n        <div className='login2'>\r\n          <h3 className='login2__text'>Welcome</h3>\r\n          <h3 className='login2__text2'>Start writing your blogs</h3>\r\n          <img src={vector6} alt='' className='login2__vector' />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n"],"names":["useState","errors","setErrors","history","useHistory","emailRef","useRef","passwordRef","dispatch","useDispatch","submitHandler","event","preventDefault","enteredMail","current","value","enteredPassword","axiosInstance","post","email","password","res","console","log","data","replace","authActions","loginHandler","username","localStorage","setItem","JSON","stringify","response","errMsg","className","onSubmit","ref","type","required","placeholder","to","src","vector6","alt"],"sourceRoot":""}
